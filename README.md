# Nucleo F446ZE with Arduino

Demonstrates the usage of a custom board definition file (`boards/genericSTM32F446ZE.json`) to using STM32Duino with a Nucleo F446ZE board.

Linker script is autogenerated by STM32CubeMX since STM32Duino is [missing a `ldscript.ld`](https://github.com/stm32duino/Arduino_Core_STM32/tree/2.0.0/variants/STM32F4xx/F446Z(C-E)(H-J-T)). 

Pin definitions for LEDs and UART are taken from mbed-os and STM32CubeMX:
* https://github.com/ARMmbed/mbed-os/blob/master/targets/TARGET_STM/TARGET_STM32F4/TARGET_STM32F446xE/TARGET_NUCLEO_F446ZE/PinNames.h#L293-L302
* https://github.com/ARMmbed/mbed-os/blob/c14396a5b619b185d344ad6dfc25f04cb330f1fc/targets/TARGET_STM/TARGET_STM32F4/TARGET_STM32F446xE/TARGET_NUCLEO_F446ZE/PinNames.h#L358-L362

## If using a BigTreeTech Octopus board 

The [Octopus board](https://github.com/bigtreetech/BIGTREETECH-OCTOPUS-V1.0/tree/master/Hardware) has a different oscillator setup (12MHz crystal oscillator instead of 8MHz direct clock feed-in on the Nucleo). Use the `octopus` instead of the `nucleo_f446ze` for this purpose ([project environment switcher](https://docs.platformio.org/en/latest/integration/ide/vscode.html#project-tasks)).

The environment also activates the USB Serial by default *and* redirects the `Serial` output to PD5 (TX) and PD6 (RX), which can be accessed via the J26 Raspberry Pi header. See the linked schematics and board diagrams for details.